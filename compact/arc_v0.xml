<lccdd >

  <info name="ARC"
        title="Array of RICH Cells (ARC)"
        author="A. Tolosa Delgado, Martin Tat, Roger Forty, Guy Wilkinson"
        url="https://indico.cern.ch/event/1231098/"
        status="development"
        version="$version 0. Date: 2023-01-19. Author emails: alvaro.tolosa.delgado@cern.ch, martin.tat@physics.ox.ac.uk$">
    <comment>The compact format of the ARC detector</comment>
  </info>

<includes>
  <gdmlFile ref="elements.xml"/>
  <gdmlFile ref="materials.xml"/>
</includes>

<display>
  <vis name="vessel_vis"  r="102/256" g="102/256" b="102/256" alpha="0.5" showDaughters="true" visible="true" />
  <vis name="gas_vis"     r="100/256" g="200/256" b="0/256"   alpha="0.5" showDaughters="true" visible="true" />
  <vis name="aerogel_vis" r="0/256"   g="161/256" b="156/256" alpha="1.0" showDaughters="true" visible="true" />
  <vis name="filter_vis"  r="248/256" g="188/256" b="0/256"   alpha="1.0" showDaughters="true" visible="true" />
  <vis name="sensor_vis"  r="0/256"   g="96/256"  b="156/256" alpha="1.0" showDaughters="true" visible="true" />
  <vis name="service_vis" r="102/256" g="102/256" b="102/256" alpha="1.0" showDaughters="true" visible="true" />
  <vis name="no_vis" showDaughters="false" visible="false" />
</display>

<define>
  <constant name="world_side"             value="30*m"      />
  <constant name="world_x"                value="world_side"/>
  <constant name="world_y"                value="world_side"/>
  <constant name="world_z"                value="100*m"     />
  <constant name="CELL_X"                 value="20*cm"     />
  <constant name="CELL_Y"                 value="20*cm"     />
  <constant name="CELL_Z"                 value="20*cm"     />
  <constant name="CELL_WALL_THICKNESS"    value="1.1*cm"    />
  <constant name="SENSOR_THICKNESS"       value="1.1*cm"    />
  <constant name="MIRROR_THICKNESS"       value="1.1*cm"    />
  <constant name="MIRROR_RADIUS"          value="20.0*cm"   />
</define>

<detectors>
  <detector
    id="1"
    name="ARC"
    type="ARCTYPE"
    gas="C4F10_PFRICH"
    material="Aluminum"
    vis_vessel="vessel_vis"
    vis_gas="gas_vis"
    readout="ARC_HITS"
    >

    <dimensions
      cell_x="CELL_X"
      cell_y="CELL_Y"
      cell_z="CELL_Z"
      cell_wall_thickness="CELL_WALL_THICKNESS"
      />
<!-- /detectors/detector/sensors -->
  <comment>
    #### Sensors
  </comment>
  <sensors>
    <!-- /detectors/detector/sensors/module -->
    <comment>
      ##### Sensor module
      - dimensions:
        - `side`:      side length of the square module
        - `thickness`: thickness of the sensor module
      - notes:
        - the material is `AirOptical`, to resolve a technical issue with the refractive boundary
    </comment>
    <module
      material="AirOptical"
      surface="SensorSurface_PFRICH"
      vis="sensor_vis"
      side="CELL_X - 2.*CELL_WALL_THICKNESS"
      thickness="SENSOR_THICKNESS"
      />
  </sensors>

<!-- /detectors/detector/mirror -->
  <mirror>
    <!-- /detectors/detector/mirror/module -->
    <module
      material="Aluminum"
      vis="service_vis"
      thickness="MIRROR_THICKNESS"
      radius="MIRROR_RADIUS"
      />
  </mirror>


  </detector>
</detectors>


<readouts>
  <readout name="ARC_HITS">
    <id>system:8,module:12</id>
  </readout>
</readouts>

</lccdd>
